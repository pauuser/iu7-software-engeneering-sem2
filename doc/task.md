**Вариант №6**

Оглавление:

[[_TOC_]]

# 1. Постановка задачи

В текстовом файле содержатся целые числа. Найти сумму цифр каждого числа и если она четная, то перевести его в двоичную систему счисления, а если нечетная, то преобразовать число в обратном порядке следования цифр. Результат вывести на экран.

## 1.1 Допущения
- В файле только целые неотрицательные числа, которые записаны правильно
- В файле может быть несколько строк
- Чисел в файле не больше 100
- Числа разделяются произвольным количеством пробелов
- Количество чисел в файле не указывается
- 0 - чётное число

## 1.2 Пример работы
| Исходный файл                                                | Вывод                                                        |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Несуществующий файл                                          | Сообщение "Файл не сущствует"                                |
| Пустой файл                                                  | Сообщение "Пустой файл"                                      |
| 1 2 3 4 ... 100 101 (101 число)                              | Сообщение "Превышено число элементов"                        |
| 1 a 2                                                        | Сообщение "Некорретный ввод"                                 |
| 1 2 -5 1                                                     | Сообщение "В файле могут быть только неотрицательные числа"  |
| 1 2.5 5 1                                                    | Сообщение "Некорректный ввод"                                |
| 12 8 91 <br> 0 52                                            | 21 100 1011011 <br> 0 25                                     |
| 1                                                            | 1                                                            |
| 6                                                            | 110                                                          |
| 12 2 32 4 52 6 72 8 92 10 <br> ... *8 таких же строк* ... <br> 12 2 32 4 52 6 72 8 92 10 | 21 10 23 100 25 110 27 1000 29 1010  <br> ... *8 таких же строк* ... <br>21 10 23 100 25 110 27 1000 29 1010 |

# 2. Контекстная диаграмма

![01_A-0](uploads/b4a5e69e1291edaa2a91f4b4f569f23b/01_A-0.png)

![02_A0](uploads/e0ca667d33ee4b8a55f7a53b65e6a584/02_A0.png)

![03_A2](uploads/d69d5c163cfeb08699b572c2d93ae2ab/03_A2.png)

# 3. Спецификация модулей

## Модуль A1

**Спецификация модуля**

| Спецификация      | Назначение                                                  |
| ----------------- | ----------------------------------------------------------- |
| Имя               | **mas_input**                                               |
| Функция           | Считывание в массив всех чисел файла                        |
| Список параметров | Файловая переменная, массив, количество элементов в массиве |
| Входные данные    | Файловая переменная                                         |
| Выходные данные   | Массив, количество элементов в массиве                      |
| Внешние эффекты   | -                                                           |

**Тестовые данные**

| Файл                            | Результат                                   |
| ------------------------------- | ------------------------------------------- |
| Пустой                          | Массив пустой, количество элементов равно 0 |
| 10                              | 10, количество элементов равно 1            |
| 145 123                         | 145 123, количество элементов 2             |
| 1 2 3 4 ... 100 101 (101 число) | В массиве 1 2 ... 100, возврат -1           |
| 1 2 a 4                         | В массиве 1 2, возврат -2                   |
| 1 2 -3 4                        | В массиве 1 2, возврат -3                   |

**Псевдокод для модуля A1**

**mas_input**

Вход: <br>
f - файловая переменная <br>
Выход:<br>
a - массив целых чисел <br>
n - количество элементов в массиве <br>

<pre>
n = 0 
<b>пока</b> не конец файла <b>делать</b> 
    <b>пока</b> не конец строки <b>делать</b>
        прочитать элемент массива a[n] 
        n = n + 1 
    <b>все пока</b> 
<b>все пока</b>
</pre>

## Модуль A2

**Спецификация модуля**

| Спецификация      | Назначение                                         |
| ----------------- | -------------------------------------------------- |
| Имя               | **mas_process**                                    |
| Функция           | Обработка массива                                  |
| Список параметров | Массив целых чисел, количество элементов в массиве |
| Входные данные    | Массив целых чисел, количество элементов в массиве |
| Выходные данные   | -                                                  |
| Внешние эффекты   | Изменение чисел массива в памяти                   |

**Тестовые данные**

| Количество элементов / массив | Массив в памяти |
| ----------------------------- | --------------- |
| 0 / Пустой массив             | Ничего          |
| 2 / 1 6                       | 1 110           |
| 1 / 6                         | 110             |
| 1 / 12                        | 21              |

**Псевдокод для модуля А2**

**mas_process**

Вход: <br>
n - количество элементов в массиве <br>
a - массив целых чисел <br>
Выход: - <br>

<pre>
i = 0
<b>пока</b> i < n <b>делать</b>
    <b>если</b> num_sum(a[i]) = 1 <b>то</b>
        a[i] = dec_to_bin(a[i])
    <b>иначе</b>
        a[i] = num_invert(a[i])
    <b>все если</b>
<b>все пока</b>
</pre>

## Модуль A3

**Спецификация модуля**

| Спецификация      | Назначение                                         |
| ----------------- | -------------------------------------------------- |
| Имя               | **mas_output**                                     |
| Функция           | Вывод массива                                      |
| Список параметров | Массив целых чисел, количество элементов в массиве |
| Входные данные    | Массив целых чисел, количество элементов в массиве |
| Выходные данные   | -                                                  |
| Внешние эффекты   | Выведенная на экран последовательность чисел       |

**Тестовые данные**

| Количество элементов / массив | Результат на экране |
| ----------------------------- | ------------------- |
| 0 / Пустой массив             | Ничего              |
| 2 / 1 110                     | 1 110               |
| 1 / 110                       | 110                 |

**Псевдокод для модуля А3**

**mas_output**

Вход: <br>
a - массив целых чисел <br>
n - количество элементов в массиве <br>
Выход: - <br>

<pre>
i = 0 <br>
<b>пока</b> i < n <b>делать</b>
    печатать a[i]
<b>все пока</b>
</pre>

## Модуль A22

**Спецификация модуля**

| Спецификация      | Назначение                                     |
| ----------------- | ---------------------------------------------- |
| Имя               | **num_sum**                                    |
| Функция           | Определение четности суммы цифр числа          |
| Список параметров | Число, флаг                                    |
| Входные данные    | Число                                          |
| Выходные данные   | Флаг - признак: 1 если четная, 0 если нечётная |
| Внешние эффекты   | Нет                                            |

**Тестовые данные**

| Число | флаг - признак (1 если четная, 0 если нечётная) |
| ----- | ----------------------------------------------- |
| 1     | 0                                               |
| 2     | 1                                               |
| 12    | 0                                               |
| 13    | 1                                               |
| 0     | 1                                               |

**Псевдокод для модуля А22**

**num_sum**

Вход: n - целое число <br>
Выход: флаг

<pre>
sum = 0
<b>пока</b> n != 0 <b>делать</b>
    sum = sum + n mod 10
    n = n div 10
<b>все пока</b>
<b>если</b> sum mod 2 == 0 <b>то</b>
    флаг = 1
<b>иначе</b>
    флаг = 0
<b>все если</b>
</pre>

## Модуль A23

**Спецификация модуля**

| Спецификация      | Назначение                           |
| ----------------- | ------------------------------------ |
| Имя               | **dec_to_bin**                       |
| Функция           | Перевод числа в двоичную систему     |
| Список параметров | Целое число, число из единиц и нулей |
| Входные данные    | Целое число                          |
| Выходные данные   | Число, состоящее из нулей и единиц   |
| Внешние эффекты   | -                                    |

**Тестовые данные**

| Число | Результат |
| ----- | --------- |
| 0     | 0         |
| 13    | 1101      |
| 6     | 110       |

**Псевдокод для модуля А23**

**dec_to_bin**

Вход: n - целое число <br>
Выход: new - целое число <br>

<pre>
new = 0 k = 1
<b>пока</b> n != 0 <b>делать</b>
    new = new + (n mod 2) * k
    k = k * 10
    n = n / 2
<b>все пока</b>
</pre>

## Модуль A24

**Спецификация модуля**

| Спецификация      | Назначение                                         |
| ----------------- | -------------------------------------------------- |
| Имя               | **num_invert**                                     |
| Функция           | Разворот числа                                     |
| Список параметров | Целое неотрицательное число, преобразованное число |
| Входные данные    | Целое неотрицательное число                        |
| Выходные данные   | Преобразованное число                              |
| Внешние эффекты   | Нет                                                |

**Тестовые данные**

| Число | Вывод на экране |
| ----- | --------------- |
| 12    | 21              |
| 1     | 1               |
| 342   | 243             |

**Псевдокод для модуля А24**

**num_invert**

Вход: n - целое число <br>
Выход: new - целое число <br>

<pre>
new = 0
<b>пока</b> n != 0 <b>делать</b>
    new = new * 10 + (n mod 10)
    n = n / 10
<b>все пока</b>
</pre>

# Псевдокод основной программы

Вход: имя файла <br>
Выход: - <br>

<pre>
Открыть файл f с указанным именем на чтение
mas[100] = { 0 }
n = 0
mas_input(f, mas, n)
Закрыть файл f
mas_process(mas, n)
mas_output(mas, n)
</pre>
Примечания:<br>
f - файловая переменная<br>
a - массив целых чисел<br>
n - количество элементов в массиве